## å‰è¨€
[GitHub å®Œæ•´é¡¹ç›®åœ°å€](https://github.com/CRONWMMM/multi_page_app_template)

æœ€è¿‘æ¥äº†ä¸€ä¸ªå…¬å¸å®˜ç½‘çš„é¡¹ç›®ï¼Œéœ€è¦ SEO å‹å¥½ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨å‰ç«¯æ¡†æ¶ï¼Œå‰ç«¯æ¡†æ¶è‡ªå¸¦çš„è„šæ‰‹æ¶å·¥å…·è‡ªç„¶ä¹Ÿå¸®ä¸ä¸Šå•¥å¿™ã€‚åªå¥½è‡ªå·±ä½¿ç”¨ `webpack4 + ejs + express` ï¼Œä»å¤´æ­å»ºä¸€ä¸ªå¤šé¡µåº”ç”¨çš„é¡¹ç›®æ¶æ„ã€‚æ­å»ºè¿‡ç¨‹ä¸­ï¼Œé‡åˆ°è®¸å¤šå‘ï¼Œç„¶è€Œç½‘ä¸Šçš„ç›¸å…³å‚è€ƒä¹Ÿæ˜¯éå¸¸å°‘ï¼Œæ‰€ä»¥å†™ä¸ªåšå®¢è®°å½•ä¸€ä¸‹æ­å»ºè¿‡ç¨‹ä»¥åŠæ³¨æ„äº‹é¡¹ã€‚
> <p style="display: inline-block;padding: 0 20px; border-radius: 4px;background-color: #a51e1e; color: white">ä»¥ä¸‹æˆ‘ä¼šå°†é‡è¦çš„ç»†èŠ‚æ ‡çº¢ï¼Œç»™éœ€è¦çš„æœ‹å‹å‚è€ƒã€‚</p>


## æ˜ç¡®éœ€æ±‚
åœ¨åŠ¨æ‰‹å¼€å‘ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ˜ç¡®è¿™ä¸ªé¡¹ç›®çš„å®šä½â€”â€”<strong>å…¬å¸å®˜ç½‘</strong>ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå®˜ç½‘ä¸ä¼šæ¶‰åŠå¤§é‡çš„æ•°æ®äº¤äº’ï¼Œæ¯”è¾ƒåå‘äºæ•°æ®å±•ç¤ºã€‚æ‰€ä»¥ä¸ç”¨å‰ç«¯æ¡†æ¶ï¼Œ`jquery` å³å¯æ»¡è¶³éœ€æ±‚ã€‚ä½†æ˜¯è€ƒè™‘åˆ° SEO æ‰€ä»¥éœ€è¦ç”¨åˆ°æœåŠ¡ç«¯æ¸²æŸ“ï¼Œå°±è¦ä½¿ç”¨æ¨¡æ¿è¯­è¨€(`ejs`)ï¼Œé…åˆ node æ¥å®Œæˆã€‚

æ ¹æ®ä»¥ä¸Šä¿¡æ¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç¡®å®šæ‰“åŒ…è„šæœ¬çš„åŸºæœ¬åŠŸèƒ½ï¼Œå…ˆæ¥ç®€å•åˆ—ä¸ªæ¸…å•ï¼š
1. éœ€è¦ `webpack` æ¥æ‰“åŒ…å¤šé¡µåº”ç”¨ï¼Œä¸”ä¸éœ€è¦æ¯æ¬¡æ–°å¢ä¸€ä¸ªè§†å›¾æ–‡ä»¶éƒ½æ·»åŠ ä¸€ä¸ª `HTMLWebpackPlugin` å’Œé‡å¯ server ï¼Œèƒ½åšåˆ° webpack é…ç½®å’Œæ–‡ä»¶åè§£è€¦ï¼Œå°½é‡çš„è‡ªåŠ¨åŒ–ã€‚
2. éœ€è¦ä½¿ç”¨ `ejs` æ¨¡æ¿è¯­è¨€ç¼–å†™ï¼Œèƒ½å¤Ÿæ’å…¥å˜é‡å’Œå¤–éƒ¨  `includes` æ–‡ä»¶ï¼Œæœ€åè¿è¡Œ build å‘½ä»¤çš„æ—¶å€™èƒ½å°†é€šç”¨æ¨¡æ¿æ–‡ä»¶ï¼ˆ`<meta>/<title>/<header>/<footer>` ç­‰ï¼‰è‡ªåŠ¨æ’å…¥æ¯ä¸ªè§†å›¾æ–‡ä»¶å¯¹åº”ä½ç½®ã€‚
3. éœ€è¦ç”¨åˆ°æœåŠ¡ç«¯æ¸²æŸ“ï¼Œæ‰€ä»¥å¼€å‘ç¯å¢ƒè¦è„±ç¦» webpack é›†æˆçš„ `webpack-dev-server`ï¼Œèƒ½ä½¿ç”¨è‡ªå·±ç¼–å†™çš„ node ä»£ç å¯åŠ¨æœåŠ¡ã€‚
4. æ‹¥æœ‰å®Œå–„çš„ `overlay` åŠŸèƒ½ï¼Œå¯ä»¥åƒ `webpack-dev-server` é‚£æ ·é›†æˆæ¼‚äº®çš„ overlay å±å¹•æŠ¥é”™ã€‚
5. èƒ½ç›‘å¬æ–‡ä»¶å˜åŒ–ï¼Œè‡ªåŠ¨æ‰“åŒ…å’Œé‡å¯æœåŠ¡ï¼Œæœ€å¥½èƒ½åšåˆ°çƒ­æ›´æ–°

## å¼€å§‹æ„å»º
å…ˆå»ºç«‹ä¸€ä¸ªç©ºé¡¹ç›®ï¼Œç”±äºéœ€è¦è‡ªå·±ç¼–å†™æœåŠ¡ç«¯ä»£ç ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¤šå»ºä¸€ä¸ª `/server` æ–‡ä»¶å¤¹ï¼Œç”¨æ¥å­˜æ”¾ `express` çš„ä»£ç ï¼Œæ­å»ºå®Œæˆåï¼Œæˆ‘ä»¬çš„é¡¹ç›®ç»“æ„çœ‹èµ·æ¥æ˜¯è¿™æ ·ã€‚
![](https://user-gold-cdn.xitu.io/2019/4/15/16a1fe64fe202e77?w=480&h=329&f=png&s=9564)

é™¤æ­¤ä»¥å¤–ï¼Œæˆ‘ä»¬éœ€è¦åˆå§‹åŒ–ä¸€äº›é€šç”¨é…ç½®æ–‡ä»¶ï¼ŒåŒ…æ‹¬ï¼š
- `.babelrc` babel é…ç½®æ–‡ä»¶
- `.gitignore` git å¿½ç•¥æ–‡ä»¶
- `.editorConfig` ç¼–è¾‘å™¨é…ç½®æ–‡ä»¶
- `.eslintrc.js` eslint é…ç½®æ–‡ä»¶
- `README.md` æ–‡ä»¶
- `package.json` æ–‡ä»¶

å¤§çš„æ¡†æ¶å‡ºæ¥ä»¥åï¼Œæˆ‘ä»¬å¼€å§‹ç¼–å†™å·¥ç¨‹ä»£ç ã€‚

## æ‰“åŒ…è„šæœ¬
é¦–å…ˆæ˜¯ç¼–å†™æ‰“åŒ…è„šæœ¬ï¼Œåœ¨`/build`æ–‡ä»¶å¤¹é‡Œæ–°å»ºå‡ ä¸ªæ–‡ä»¶
1. `webpack.base.config.js`ï¼Œç”¨æ¥å­˜æ”¾ç”Ÿäº§ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒé€šç”¨çš„ webpack é…ç½®
2. `webpack.dev.config.js`ç”¨æ¥å­˜æ”¾å¼€å‘ç¯å¢ƒçš„æ‰“åŒ…é…ç½®
3. `webpack.prod.config.js`ç”¨æ¥å­˜æ”¾ç”Ÿäº§ç¯å¢ƒçš„æ‰“åŒ…é…ç½®
4. `config.json` ç”¨æ¥å­˜æ”¾ä¸€äº›é…ç½®å¸¸é‡ï¼Œä¾‹å¦‚ç«¯å£åï¼Œè·¯å¾„åä¹‹ç±»ã€‚

ä¸€èˆ¬æ¥è¯´ï¼Œ`webpack.base.config` æ–‡ä»¶é‡Œï¼Œæ”¾ä¸€äº›å¼€å‘ç”Ÿäº§ç¯å¢ƒé€šç”¨çš„é…ç½®ï¼Œä¾‹å¦‚ `output`ã€`entry` ä»¥åŠä¸€äº› `loader`ï¼Œ ä¾‹å¦‚ç¼–è¯‘ES6è¯­æ³•çš„ `babel-loader`ã€æ‰“åŒ…æ–‡ä»¶çš„ `file-loader` ç­‰ã€‚å¸¸ç”¨çš„ loader çš„ä½¿ç”¨æ–¹å¼æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹æ–‡æ¡£ [webpack loaders](https://webpack.js.org/loaders/#root)ï¼Œ<p style="display: inline-block;padding: 0 20px; border-radius: 4px;background-color: #a51e1e; color: white">éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™è¾¹æœ‰ä¸ªéå¸¸é‡è¦çš„ loader â€”â€”â€”â€” ejs-html-loader</p>

ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä½¿ç”¨ `html-loader` æ¥å¯¹`.html`ç»“å°¾çš„è§†å›¾æ–‡ä»¶åšå¤„ç†ï¼Œç„¶åæ‰”ç»™ `html-webpack-plugin`ç”Ÿæˆå¯¹åº”çš„æ–‡ä»¶ï¼Œä½†æ˜¯ `html-loader` æ— æ³•å¤„ç† ejs æ¨¡æ¿è¯­æ³•ä¸­çš„ `<% include ... %>` è¯­æ³•ï¼Œä¼šæŠ¥é”™ã€‚ç„¶è€Œåœ¨å¤šé¡µåº”ç”¨é‡Œï¼Œè¿™ä¸ª include çš„åŠŸèƒ½æ˜¯å¿…é¡»çš„ï¼Œä¸ç„¶æ¯ä¸ªè§†å›¾æ–‡ä»¶é‡Œéƒ½è¦æ‰‹åŠ¨å»å†™ä¸€ä»½ `header/footer` æ˜¯ä»€ä¹ˆæ„Ÿè§‰ã€‚ã€‚ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å†å¤šé…ç½®ä¸€ä»½ ejs-html-loaderï¼š
``` js
// webpack.base.config.js éƒ¨åˆ†ä»£ç 
module: {
    rules: [
        ...
        {
            test: /\.ejs$/,
            use: [
                {
                    loader: 'html-loader', // ä½¿ç”¨ html-loader å¤„ç†å›¾ç‰‡èµ„æºçš„å¼•ç”¨
                    options: {
                        attrs: ['img:src', 'img:data-src']
                    }
                },
                {
                    loader: 'ejs-html-loader', // ä½¿ç”¨ ejs-html-loader å¤„ç† .ejs æ–‡ä»¶çš„ includes è¯­æ³•
                    options: {
                        production: process.env.ENV === 'production'
                    }
                }
            ]
        }
        ...
    ]
}
```


ç¬¬ä¸€ä¸ªå‘ç»•è¿‡ä¹‹åï¼Œç¬¬äºŒä¸ªï¼š

<p style="display: inline-block;padding: 0 20px; border-radius: 4px;background-color: #a51e1e; color: white">entry å…¥å£è¦æ€ä¹ˆå†™ï¼Ÿ</p> 

è®°å¾—ä¹‹å‰å…¬å¸çš„ä¸€ä¸ªè€é¡¹ç›®ï¼Œäº”åå‡ ä¸ªé¡µé¢ï¼Œäº”åå‡ ä¸ª `entry` å’Œ `new HTMLwebpackPlugin()` ä¸€ä¸ªæ–‡ä»¶å±•å¼€æ¥å¯ä»¥ç»•åœ°çƒä¸€åœˆã€‚ã€‚ã€‚è¿™è¾¹ä¸ºäº†é¿å…è¿™ç§æƒ¨çŠ¶ï¼Œå†™ä¸€ä¸ªæ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ª entry æ•°ç»„ã€‚

å¯ä»¥ä½¿ç”¨ [glob](https://www.npmjs.com/package/glob) æ¥å¤„ç†è¿™äº›æ–‡ä»¶ï¼Œè·å–æ–‡ä»¶åï¼Œå½“ç„¶åŒæ ·ä¹Ÿå¯ä»¥ä½¿ç”¨åŸç”Ÿ node æ¥å®ç°ã€‚åªè¦ä¿è¯ `JavaScript` æ–‡ä»¶åå’Œè§†å›¾æ–‡ä»¶åç›¸åŒå³å¯ï¼Œæ¯”å¦‚ï¼Œé¦–é¡µçš„è§†å›¾æ–‡ä»¶åæ˜¯ `home.ejs`,é‚£ä¹ˆå¯¹åº”çš„è„šæœ¬æ–‡ä»¶åå°±è¦ç”¨åŒæ ·çš„åå­— `home.js` æ¥å‘½åï¼Œwebpack æ‰“åŒ…çš„æ—¶å€™ä¼šæ‰¾åˆ°è„šæœ¬æ–‡ä»¶å…¥å£ï¼Œé€šè¿‡æ˜ å°„å…³ç³»ç”Ÿæˆå¯¹åº”è§†å›¾æ–‡ä»¶ï¼š
``` js
// webpack.base.config.js éƒ¨åˆ†ä»£ç 
const Webpack = require('Webpack')
const glob = require('glob')
const { resolve } = require('path')

// webpack å…¥å£æ–‡ä»¶
const entry = ((filepathList) => {
    let entry = {}
    filepathList.forEach(filepath => {
        const list = filepath.split(/[\/|\/\/|\\|\\\\]/g) // æ–œæ åˆ†å‰²æ–‡ä»¶ç›®å½•
        const key = list[list.length - 1].replace(/\.js/g, '') // æ‹¿åˆ°æ–‡ä»¶çš„ filename
        // å¦‚æœæ˜¯å¼€å‘ç¯å¢ƒï¼Œæ‰éœ€è¦å¼•å…¥ hot module
        entry[key] = process.env.NODE_ENV === 'development' ? [filepath, 'webpack-hot-middleware/client?reload=true'] : filepath
    })
    return entry
})(glob.sync(resolve(__dirname, '../src/js/*.js')))

module.exports = {
    entry,
    ...
}
```

HTMLWebpackPlugin çš„é…ç½®ä¹ŸåŒç†ï¼š
``` js
// webpack.base.config.js éƒ¨åˆ†ä»£ç 
...
plugins: [
    // æ‰“åŒ…æ–‡ä»¶
    ...glob.sync(resolve(__dirname, '../src/tpls/*.ejs')).map((filepath, i) => {
        const tempList = filepath.split(/[\/|\/\/|\\|\\\\]/g)           // æ–œæ åˆ†å‰²æ–‡ä»¶ç›®å½•
        const filename = `views/${tempList[tempList.length - 1]}`       // æ‹¿åˆ°æ–‡ä»¶çš„ filename
        const template = filepath                                       // æŒ‡å®šæ¨¡æ¿åœ°å€ä¸ºå¯¹åº”çš„ ejs è§†å›¾æ–‡ä»¶è·¯å¾„
        const fileChunk = filename.split('.')[0].split(/[\/|\/\/|\\|\\\\]/g).pop() // è·å–åˆ°å¯¹åº”è§†å›¾æ–‡ä»¶çš„ chunkname
        const chunks = ['manifest', 'vendors', fileChunk]               // ç»„è£… chunks æ•°ç»„
        return new HtmlWebpackPlugin({ filename, template, chunks })    // è¿”å› HtmlWebpackPlugin å®ä¾‹
    })
]
...
```

ç¼–å†™å¥½ `webpack.base.config.js` æ–‡ä»¶ï¼Œæ ¹æ®è‡ªå·±é¡¹ç›®éœ€æ±‚ç¼–å†™å¥½ `webpack.dev.config.js` å’Œ `webpack.prod.config.js`ï¼Œä½¿ç”¨ [webpack-merge](https://www.npmjs.com/package/webpack-merge) å°†åŸºç¡€é…ç½®å’Œå¯¹åº”ç¯å¢ƒä¸‹çš„é…ç½®åˆå¹¶ã€‚

> webpack å…¶ä»–çš„ä¸€äº›ç»†èŠ‚é…ç½®å¤§å®¶å¯ä»¥å‚è€ƒ [webpack ä¸­æ–‡ç½‘å€](https://www.webpackjs.com/)

## æœåŠ¡ç«¯
æ‰“åŒ…è„šæœ¬ç¼–å†™å®Œæˆï¼Œæˆ‘ä»¬å¼€å§‹ç¼–å†™æœåŠ¡ï¼Œæˆ‘ä»¬ä½¿ç”¨ `express` æ¥æ­å»ºæœåŠ¡ã€‚<span style="color: #5484c1; font-size: 14px">ï¼ˆç”±äºæ˜¯å·¥ç¨‹æ¶æ„æ¼”ç¤ºï¼Œæ‰€ä»¥è¿™ä¸ªæœåŠ¡æš‚ä¸æ¶‰åŠä»»ä½•çš„æ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥ï¼Œåªæ˜¯åŒ…å«åŸºæœ¬çš„è·¯ç”±è·³è½¬ï¼‰</span>

`server` ç®€å•çš„ç»“æ„å¦‚ä¸‹ï¼š
![](https://user-gold-cdn.xitu.io/2019/4/15/16a206aae3beba05?w=441&h=117&f=png&s=4474)

#### æœåŠ¡ç«¯å¯åŠ¨æ–‡ä»¶
`bin/server.js` å¯åŠ¨æ–‡ä»¶ï¼Œä½œä¸ºæœåŠ¡çš„å…¥å£ï¼Œéœ€è¦åŒæ—¶å¯åŠ¨æœ¬åœ°æœåŠ¡å’Œ webpack çš„å¼€å‘æ—¶ç¼–è¯‘ã€‚ä¸€èˆ¬é¡¹ç›® `webpack-dev-server` æ˜¯å†™åœ¨ `package.json` é‡Œçš„ï¼Œå½“ä½ è¿è¡Œ `npm run dev` çš„æ—¶å€™ï¼Œå°±åœ¨ä½¿ç”¨ `webpack-dev-server` å¯åŠ¨å¼€å‘æœåŠ¡ï¼Œè¿™ä¸ª webpack-dev-server åŠŸèƒ½ååˆ†å¼ºå¤§ï¼Œä¸ä»…èƒ½ä¸€é”®å¯åŠ¨æœ¬åœ°æœåŠ¡ï¼Œè¿˜å¯ä»¥ç›‘å¬æ¨¡å—ï¼Œå®æ—¶ç¼–è¯‘ã€‚è¿™è¾¹æˆ‘ä»¬ä½¿ç”¨ `express` + [webpack-dev-middleware](https://www.npmjs.com/package/webpack-dev-middleware) ä¹Ÿå¯ä»¥è¾¾åˆ°åŒæ ·çš„åŠŸèƒ½ã€‚

<p style="display: inline-block;padding:20px; border-radius: 4px;background-color: #a51e1e; color: white">webpack-dev-middleware å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæŠ½ç¦»å‡ºæ¥çš„ webpack-dev-serverï¼Œåªæ˜¯æ²¡æœ‰å¯åŠ¨æœ¬åœ°æœåŠ¡çš„åŠŸèƒ½ï¼Œä»¥åŠä½¿ç”¨æ–¹å¼ä¸Šç•¥æœ‰æ”¹å˜ã€‚å®ƒç›¸æ¯”äº webpack-dev-server çš„çµæ´»æ€§åœ¨äºï¼Œå®ƒä»¥ä¸€ä¸ªä¸­é—´ä»¶çš„å½¢å¼å­˜åœ¨ï¼Œå…è®¸å¼€å‘è€…ç¼–å†™è‡ªå·±çš„æœåŠ¡æ¥ä½¿ç”¨å®ƒã€‚</p>

> å…¶å® webpack-dev-server çš„å†…éƒ¨å®ç°æœºåˆ¶ä¹Ÿæ˜¯å€ŸåŠ©äº webpack-dev-middleware å’Œ express æœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å»çœ‹ä¸€ä¸‹ã€‚

ä»¥ä¸‹æ˜¯æœåŠ¡å…¥å£æ–‡ä»¶çš„éƒ¨åˆ†ä»£ç 
``` js
// server/bin/server.js æ–‡ä»¶ä»£ç 
const path = require('path')
const express = require('express')
const webpack = require('webpack')
const webpackDevMiddleware = require('webpack-dev-middleware')
const webpackHotMiddleware = require('webpack-hot-middleware')
const { routerFactory } = require('../routes')
const isDev = process.env.NODE_ENV === 'development'
let app = express()
let webpackConfig = require('../../build/webpack.dev.config')
let compiler = webpack(webpackConfig)

// å¼€å‘ç¯å¢ƒä¸‹æ‰éœ€è¦å¯ç”¨å®æ—¶ç¼–è¯‘å’Œçƒ­æ›´æ–°
if (isDev) {
    // ç”¨ webpack-dev-middleware å¯åŠ¨ webpack ç¼–è¯‘
    app.use(webpackDevMiddleware(compiler, {
        publicPath: webpackConfig.output.publicPath,
        overlay: true,
        hot: true
    }))
    
    // ä½¿ç”¨ webpack-hot-middleware æ”¯æŒçƒ­æ›´æ–°
    app.use(webpackHotMiddleware(compiler, {
        publicPath: webpackConfig.output.publicPath,
        noInfo: true
    }))
}

// æ·»åŠ é™æ€èµ„æºæ‹¦æˆªè½¬å‘
app.use(webpackConfig.output.publicPath, express.static(path.resolve(__dirname, isDev ? '../../src' : '../../dist')))

// æ„é€ è·¯ç”±
routerFactory(app)

// é”™è¯¯å¤„ç†
app.use((err, req, res, next) => {
    res.status(err.status || 500)
    res.send(err.stack || 'Service Error')
})

app.listen(port, () => console.log(`development is listening on port 8888`))

```

#### æœåŠ¡ç«¯è·¯ç”±
<p style="display: inline-block;padding:20px; border-radius: 4px;background-color: #a51e1e; color: white">è·¯ç”±çš„è·³è½¬æ–¹å¼ï¼Œå±äºæ•´ä¸ªå·¥ç¨‹ä¸­éå¸¸é‡è¦çš„ä¸€æ­¥ã€‚ä¸çŸ¥é“é˜…è¯»æ–‡ç« çš„æœ‹å‹æœ‰æ²¡æœ‰ç–‘é—®ï¼Œæœ¬åœ°çš„è§†å›¾æ–‡ä»¶æ˜¯ .ejs åç¼€ç»“å°¾çš„æ–‡ä»¶ï¼Œæµè§ˆå™¨åªèƒ½è¯†åˆ« .html åç¼€æ–‡ä»¶ï¼Œè¿™å—è§†å›¾æ•°æ®çš„æ¸²æŸ“æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ webpack-dev-middleware æ‰“åŒ…å‡ºæ¥çš„èµ„æºéƒ½æ˜¯å­˜åœ¨å†…å­˜ä¸­çš„ï¼Œå­˜å‚¨åœ¨å†…å­˜ä¸­çš„èµ„æºæ–‡ä»¶ï¼ŒæœåŠ¡ç«¯è¦æ€ä¹ˆè·å–ï¼Ÿ</p>å…ˆæ¥çœ‹å…·ä½“çš„è·¯ç”±ä»£ç ï¼Œæ­¤å¤„ä»¥é¦–é¡µè·¯ç”±ä½œä¸ºæ¼”ç¤º

``` js
// server/routs/home.js æ–‡ä»¶
const ejs = require('ejs')
const { getTemplate } = require('../common/utils')

const homeRoute = function (app) {
    app.get('/', async (req, res, next) => {
        try {
            const template = await getTemplate('index.ejs') // è·å– ejs æ¨¡æ¿æ–‡ä»¶
            let html = ejs.render(template, { title: 'é¦–é¡µ' })
            res.send(html)
        } catch (e) {
            next(e)
        }
    })
    app.get('/home', async (req, res, next) => {
        try {
            const template = await getTemplate('index.ejs') // è·å– ejs æ¨¡æ¿æ–‡ä»¶
            let html = ejs.render(template, { title: 'é¦–é¡µ' })
            res.send(html)
        } catch (e) {
            next(e)
        }
    })
}

module.exports = homeRoute

```
å¯ä»¥çœ‹åˆ°å…³é”®ç‚¹å°±åœ¨ getTemplate è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬çœ‹çœ‹è¿™ä¸ª `getTemplate` åšäº†å’©

``` js
// server/common/utils.js æ–‡ä»¶
const axios = require('axios')
const CONFIG = require('../../build/config')

function getTemplate (filename) {
    return new Promise((resolve, reject) => {
        axios.get(`http://localhost:8888/public/views/${filename}`) // æ³¨æ„è¿™ä¸ª 'public' å…¬å…±èµ„æºå‰ç¼€éå¸¸é‡è¦
        .then(res => {
            resolve(res.data)
        })
        .catch(reject)
    })
}

module.exports = {
    getTemplate
}

```

<p style="display: inline-block;padding: 20px; border-radius: 4px;background-color: #a51e1e; color: white">ä»ä¸Šé¢ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œè·¯ç”±ä¸­çš„åšçš„éå¸¸é‡è¦çš„äº‹æƒ…ï¼Œå°±æ˜¯ç›´æ¥ç”¨å¯¹åº”è§†å›¾çš„ ejs æ–‡ä»¶åï¼Œå»è¯·æ±‚è‡ªèº«æœåŠ¡ï¼Œä»è€Œè·å–åˆ°å­˜åœ¨ webpack ç¼“å­˜ä¸­çš„èµ„æºå’Œæ•°æ®ã€‚<br>é€šè¿‡è¿™ç§æ–¹å¼æ‹¿åˆ°æ¨¡æ¿å­—ç¬¦ä¸²åï¼Œejs å¼•æ“ä¼šç”¨æ•°æ®æ¸²æŸ“å¯¹åº”å˜é‡ï¼Œæœ€ç»ˆä»¥ html å­—ç¬¦ä¸²çš„å½¢å¼è¿”å›åˆ°æµè§ˆå™¨è¿›è¡Œæ¸²æŸ“ã€‚<br>æœ¬åœ°æœåŠ¡ä¼šä»¥ä¸€ä¸ª publicPath è·¯å¾„å‰ç¼€æ¥æ ‡è®°é™æ€èµ„æºè¯·æ±‚ï¼Œå¦‚æœæœåŠ¡æ¥å—åˆ°çš„è¯·æ±‚æ˜¯å¸¦æœ‰ publicPath å‰ç¼€ï¼Œå°±ä¼šè¢« `/bin/server.js` ä¸­çš„é™æ€èµ„æºä¸­é—´ä»¶æ‹¦æˆªåˆ°ï¼Œæ˜ å°„åˆ°å¯¹åº”èµ„æºç›®å½•ï¼Œè¿”å›é™æ€èµ„æºï¼Œè€Œè¿™ä¸ª publicPath å°±æ˜¯ webpack é…ç½®ä¸­çš„ <span style="background-color: white; color:#333;padding: 2px 10px; border-radius: 4px">output.publicPath</span></p>

> å…³äº webpack çš„æ‰“åŒ…æ—¶ç¼“å­˜ï¼Œæˆ‘ä¹‹å‰ç¿»äº†å¾ˆå¤šåœ°æ–¹éƒ½æ²¡æœ‰æ‰¾åˆ°å¾ˆå¥½çš„æ–‡æ¡£å’Œæ“ä½œå·¥å…·ï¼Œè¿™è¾¹ç»™å¤§å®¶æ¨èä¸¤ä¸ªé“¾æ¥
> 1. [Webpack Custom File Systems](https://webpack.docschina.org/api/node/#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F-custom-file-systems-)  ï¼ˆwebpack è‡ªå®šä¹‰æ–‡ä»¶ç³»ç»Ÿå®˜æ–¹è¯´æ˜ï¼‰
> 2. [memory-fs](https://github.com/webpack/memory-fs)ï¼ˆè·å– webpack ç¼–è¯‘åˆ°å†…å­˜ä¸­çš„æ•°æ®ï¼‰

## å®¢æˆ·ç«¯
å®Œæˆäº†æœåŠ¡ç«¯æ¸²æŸ“ã€webpack æ„å»ºé…ç½®åï¼Œç®—æ˜¯æå®šäº† 80% çš„å·¥ä½œé‡ï¼Œè¿˜æœ‰ä¸€äº›å°ç»†èŠ‚éœ€è¦æ³¨æ„ï¼Œä¸ç„¶æœåŠ¡å¯åŠ¨èµ·æ¥è¿˜æ˜¯ä¼šæŠ¥é”™ã€‚

#### webpack ç¼–è¯‘æ—¶çš„å‘
<p style="display: inline-block;padding: 20px; border-radius: 4px;background-color: #a51e1e; color: white">è¿™ä¸ªå‘å°±åŸ‹åœ¨å®¢æˆ·ç«¯çš„è§†å›¾æ–‡ä»¶é‡Œï¼Œå…ˆæ¥çœ‹çœ‹å‘æ˜¯ä»€ä¹ˆï¼šå½“æˆ‘ä»¬ä½¿ç”¨ ejs è¯­æ³•ï¼ˆ<span style="background-color: white; color:#333;padding: 2px 10px; border-radius: 4px"><%= title %></span>ï¼‰è¿™ç§è¯­æ³•çš„æ—¶å€™ï¼Œwebpack ç¼–è¯‘å°±ä¼šæŠ¥é”™ï¼Œè¯´æ˜¯ title is undefined </p>

è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦é¦–å…ˆæ˜ç™½ webpack ç¼–è¯‘æ—¶çš„è¿è¡Œæœºåˆ¶ï¼Œå®ƒåšäº†ä»€ä¹ˆã€‚æˆ‘ä»¬çŸ¥é“ï¼Œwebpack å†…éƒ¨æ¨¡æ¿æœºåˆ¶å°±æ˜¯åŸºäºçš„ ejsï¼Œæ‰€ä»¥åœ¨æˆ‘ä»¬æœåŠ¡ç«¯æ¸²æŸ“ä¹‹å‰ï¼Œä¹Ÿå°±æ˜¯ webpack çš„ç¼–è¯‘é˜¶æ®µï¼Œå·²ç»æ‰§è¡Œè¿‡äº†ä¸€æ¬¡ ejs.render äº†ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œåœ¨ webpack çš„é…ç½®æ–‡ä»¶é‡Œï¼Œæˆ‘ä»¬æ˜¯æ²¡æœ‰ä¼ é€’è¿‡ title è¿™ä¸ªå˜é‡çš„ï¼Œæ‰€ä»¥ç¼–è¯‘ä¼šæŠ¥é”™ã€‚é‚£ä¹ˆè¦æ€ä¹ˆå†™æ‰èƒ½è¯†åˆ«å‘¢ï¼Ÿç­”æ¡ˆå°±åœ¨ [ejs çš„å®˜æ–¹æ–‡æ¡£](https://www.npmjs.com/package/ejs)
![](https://user-gold-cdn.xitu.io/2019/4/16/16a24fe843d694f6?w=1047&h=805&f=png&s=69365)
<p style="display: inline-block;padding: 20px; border-radius: 4px;background-color: #a51e1e; color: white">ä»å®˜ç½‘çš„ä»‹ç»ä¸Šå¯ä»¥çœ‹å‡ºï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ <span style="background-color: white; color:#333;padding: 2px 10px; border-radius: 4px"><%%</span>  æ‰“å¤´çš„æ—¶å€™ï¼Œä¼šè¢«è½¬ä¹‰æˆ <span style="background-color: white; color:#333;padding: 2px 10px; border-radius: 4px"><%</span> å­—ç¬¦ä¸²ï¼Œç±»ä¼¼äº html æ ‡ç­¾çš„è½¬ä¹‰ï¼Œè¿™æ ·æ‰èƒ½é¿å… webpack ä¸­è‡ªå¸¦çš„ ejs çš„é”™è¯¯è¯†åˆ«ï¼Œç”Ÿæˆæ­£ç¡®çš„ ejs æ–‡ä»¶ã€‚æ‰€ä»¥ä»¥å˜é‡ä¸ºä¾‹ï¼Œåœ¨ä»£ç ä¸­æˆ‘ä»¬éœ€è¦è¿™æ ·å†™ï¼š <span style="background-color: white; color:#333;padding: 2px 10px; border-radius: 4px"><%%= title %></span> <br>è¿™æ ·ï¼Œwebpack æ‰èƒ½é¡ºåˆ©ç¼–è¯‘å®Œæˆï¼Œå°† compiler ç»§ç»­ä¼ é€’åˆ° ejs-html-loader è¿™é‡Œ</p>

#### ä½¿ç”¨ html-loader è¯†åˆ«å›¾ç‰‡èµ„æº
å¦‚æœäº†è§£ `html-loader` çš„æœ‹å‹å°±çŸ¥é“ï¼Œåœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¹‹æ‰€ä»¥èƒ½å¤Ÿåœ¨ html ä¸­æ–¹ä¾¿çš„å†™ `<img src="../static/imgs/XXX.png">` è¿™ç§å›¾ç‰‡æ ¼å¼ï¼Œè¿˜èƒ½è¢« webpack æ­£ç¡®è¯†åˆ«ï¼Œç¦»ä¸å¼€ html-loader é‡Œçš„ `attrs` é…ç½®é¡¹ï¼Œ
ä½†æ˜¯åœ¨ ejs-html-loader é‡Œï¼Œæ²¡æœ‰æä¾›è¿™ç§æ–¹ä¾¿çš„åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¾æ—§è¦ä½¿ç”¨ `html-loader` æ¥å¯¹ html ä¸­çš„å›¾ç‰‡å¼•ç”¨åšå¤„ç†ï¼Œè¿™è¾¹éœ€è¦æ³¨æ„ loader çš„é…ç½®é¡ºåº
``` js
// webpack.base.config.js éƒ¨åˆ†ä»£ç 
module: {
    rules: [
        ...
        {
            test: /\.ejs$/,
            use: [
                {
                    loader: 'html-loader', // ä½¿ç”¨ html-loader å¤„ç†å›¾ç‰‡èµ„æºçš„å¼•ç”¨
                    options: {
                        attrs: ['img:src', 'img:data-src']
                    }
                },
                {
                    loader: 'ejs-html-loader', // ä½¿ç”¨ ejs-html-loader å¤„ç† .ejs æ–‡ä»¶çš„ includes è¯­æ³•
                    options: {
                        production: process.env.ENV === 'production'
                    }
                }
            ]
        }
        ...
    ]
}
```

## é…ç½®çƒ­æ›´æ–°
æ¥ä¸‹æ¥æ˜¯é…ç½®çƒ­æ›´æ–°ï¼Œä½¿ç”¨ `webpack-dev-middleware` æ—¶çš„çƒ­æ›´æ–°é…ç½®æ–¹å¼å’Œ `webpack-dev-server` ç•¥æœ‰ä¸åŒï¼Œä½†æ˜¯ `webpack-dev-middleware` ç¨å¾®ç®€å•ä¸€ç‚¹ã€‚webpack æ‰“åŒ…å¤šé¡µåº”ç”¨é…ç½®çƒ­æ›´æ–°ï¼Œä¸€å…±å››æ­¥ï¼š
1. åœ¨ `entry` å…¥å£é‡Œå¤šå†™ä¸€ä¸ª `webpack-hot-middleware/client?reload=true` çš„å…¥å£æ–‡ä»¶
``` js
// webpack.base.config.js éƒ¨åˆ†ä»£ç 
// webpack å…¥å£æ–‡ä»¶
const entry = ((filepathList) => {
    let entry = {}
    filepathList.forEach(filepath => {
        ...
        // å¦‚æœæ˜¯å¼€å‘ç¯å¢ƒï¼Œæ‰éœ€è¦å¼•å…¥ hot module
        entry[key] = process.env.NODE_ENV === 'development' ? [filepath, 'webpack-hot-middleware/client?reload=true'] : filepath
        ...
    })
    return entry
})(...)

module.exports = {
    entry,
    ...
}
```

2. åœ¨ webpack çš„ `plugins` é‡Œå¤šå†™ä¸‰ä¸ª plugin:
    ```js
    // webpack.dev.config.js æ–‡ä»¶éƒ¨åˆ†ä»£ç 
    plugins: [
    ...
    
    // OccurrenceOrderPlugin is needed for webpack 1.x only
    new Webpack.optimize.OccurrenceOrderPlugin(),
	new Webpack.HotModuleReplacementPlugin(),
	// Use NoErrorsPlugin for webpack 1.x
	new Webpack.NoEmitOnErrorsPlugin()
	
	...
	]
    ```
3. åœ¨ `bin/server.js` æœåŠ¡å…¥å£ä¸­å¼•å…¥ `webpack-hot-middleware`, å¹¶å°† `webpack-dev-server` æ‰“åŒ…å®Œæˆçš„ `compiler` ç”¨ `webpack-hot-middleware` åŒ…è£…èµ·æ¥ï¼š
    ```js
    // server/bin/server.js æ–‡ä»¶
    let compiler = webpack(webpackConfig)
    
    // ç”¨ webpack-dev-middleware å¯åŠ¨ webpack ç¼–è¯‘
	app.use(webpackDevMiddleware(compiler, {
	    publicPath: webpackConfig.output.publicPath,
	    overlay: true,
	    hot: true
	}))

	// ä½¿ç”¨ webpack-hot-middleware æ”¯æŒçƒ­æ›´æ–°
	app.use(webpackHotMiddleware(compiler, {
	    publicPath: webpackConfig.output.publicPath,
	    reload: true,
	    noInfo: true
	}))
    ```
4. åœ¨è§†å›¾å¯¹åº”çš„ js æ–‡ä»¶é‡ŒåŠ ä¸€æ®µä»£ç ï¼š
    ```js
    // src/js/index.js æ–‡ä»¶
    if (module.hot) {
        module.hot.accept()
    }
    ```
å…³äº webpack-hot-middleware çš„æ›´å¤šé…ç½®ç»†èŠ‚ï¼Œè¯·çœ‹[æ–‡æ¡£](https://www.npmjs.com/package/webpack-hot-middleware)

<p style="display: inline-block;padding: 20px; border-radius: 4px;background-color: #a51e1e; color: white">è¿™è¾¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<br>1. å…‰æ˜¯è¿™ä¹ˆå†™çš„è¯ï¼Œwebpack hot module åªèƒ½æ”¯æŒ JS éƒ¨åˆ†çš„ä¿®æ”¹ï¼Œå¦‚æœéœ€è¦æ”¯æŒæ ·å¼æ–‡ä»¶( css / less / sass ... )çš„ hot reload ï¼Œå°±ä¸èƒ½ä½¿ç”¨ extract-text-webpack-plugin å°†æ ·å¼æ–‡ä»¶å‰¥ç¦»å‡ºå»ï¼Œå¦åˆ™æ— æ³•ç›‘å¬ä¿®æ”¹ã€å®æ—¶åˆ·æ–°ã€‚<br><br>2. webpack hot module åŸç”Ÿæ˜¯ä¸æ”¯æŒ html çš„çƒ­æ›¿æ¢çš„ï¼Œä½†æ˜¯å¾ˆå¤šå¼€å‘è€…å¯¹äºè¿™å—çš„éœ€æ±‚æ¯”è¾ƒå¤§ï¼Œäºæ˜¯æˆ‘æ‰¾äº†ä¸€ä¸ªç›¸å¯¹æ¯”è¾ƒç®€å•çš„æ–¹æ³•ï¼Œæ¥æ”¯æŒè§†å›¾æ–‡ä»¶çš„çƒ­æ›´æ–°</p>
éœ€è¦åœ¨åŸæœ‰çš„ä»£ç åšä¸€ç‚¹ä¿®æ”¹ï¼Œå…ˆæ¥çœ‹ä»£ç ï¼š

``` js
// src/js/index.js æ–‡ä»¶
import axios from 'axios'
// styles
import 'less/index.less'

const isDev = process.env.NODE_ENV === 'development'

// åœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œä½¿ç”¨ raw-loader å¼•å…¥ ejs æ¨¡æ¿æ–‡ä»¶ï¼Œå¼ºåˆ¶ webpack å°†å…¶è§†ä¸ºéœ€è¦çƒ­æ›´æ–°çš„ä¸€éƒ¨åˆ† bundle
if (isDev) {
    require('raw-loader!../tpls/index.ejs')
}

...

if (module.hot) {
    module.hot.accept()
    /**
    * ç›‘å¬ hot module å®Œæˆäº‹ä»¶ï¼Œé‡æ–°ä»æœåŠ¡ç«¯è·å–æ¨¡æ¿ï¼Œæ›¿æ¢æ‰åŸæ¥çš„ document
    * è¿™ç§çƒ­æ›´æ–°æ–¹å¼éœ€è¦æ³¨æ„ï¼š
    * 1. å¦‚æœä½ åœ¨å…ƒç´ ä¸Šä¹‹å‰ç»‘å®šäº†äº‹ä»¶ï¼Œé‚£ä¹ˆçƒ­æ›´æ–°ä¹‹åï¼Œè¿™äº›äº‹ä»¶å¯èƒ½ä¼šå¤±æ•ˆ
    * 2. å¦‚æœäº‹ä»¶åœ¨æ¨¡å—å¸è½½ä¹‹å‰æœªé”€æ¯ï¼Œå¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼
    */
    module.hot.dispose(() => {
        const href = window.location.href
        axios.get(href).then(res => {
            const template = res.data
            document.body.innerHTML = template
        }).catch(e => {
            console.error(e)
        })
    })
}

```
``` js
// webpack.dev.config.js
plugins: [
    ...
    new webpack.DefinePlugin({
        'process.env.NODE_ENV': JSON.stringify('development')
    })
    ...
]
```
``` js
// webpack.prod.config.js
plugins: [
    ...
    new webpack.DefinePlugin({
        'process.env.NODE_ENV': JSON.stringify('production')
    })
    ...
]
```
OKï¼Œå¦‚ä½ æ‰€æ„¿ï¼Œç°åœ¨è§†å›¾æ–‡ä»¶ä¹Ÿæ”¯æŒçƒ­æ›´æ–°å•¦ã€‚ğŸ˜ƒğŸ˜ƒ

`webpack-hot-middleware` é»˜è®¤ç»§æ‰¿äº† `overlay`ï¼Œæ‰€ä»¥å½“çƒ­æ›´æ–°é…ç½®å®Œæˆä»¥åï¼Œ`overlay` æŠ¥é”™åŠŸèƒ½ä¹Ÿèƒ½æ­£å¸¸ä½¿ç”¨äº†

![](https://user-gold-cdn.xitu.io/2019/4/17/16a2abec24ca0867?w=1920&h=937&f=png&s=79377)


## package.json å¯åŠ¨è„šæœ¬
æœ€åæ¥çœ‹ä¸€ä¸‹ `package.json` é‡Œçš„å¯åŠ¨è„šæœ¬ï¼Œè¿™è¾¹æ²¡å•¥éš¾åº¦ï¼Œå°±ç›´æ¥ä¸Šä»£ç äº†
``` json
    "scripts": {
        "clear": "rimraf dist",
        "server": "cross-env NODE_ENV=production node ./server/bin/server.js",
        "dev": "cross-env NODE_ENV=development nodemon --watch server ./server/bin/server.js",
        "build": "npm run clear && cross-env NODE_ENV=production webpack --env production --config ./build/webpack.prod.config.js",
        "test": "echo \"Error: no test specified\" && exit 1"
    }
```

å½“å®¢æˆ·ç«¯ä»£ç å˜åŠ¨æ—¶ webpack ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬ç¼–è¯‘é‡å¯ï¼Œä½†æ˜¯æœåŠ¡ç«¯çš„ä»£ç å˜åŠ¨å´ä¸ä¼šå®æ—¶åˆ·æ–°ï¼Œè¿™æ—¶éœ€è¦ç”¨åˆ° `nodemon`ï¼Œè®¾ç½®å¥½ç›‘å¬ç›®å½•ä»¥åï¼ŒæœåŠ¡ç«¯çš„ä»»ä½•ä»£ç ä¿®æ”¹å°±èƒ½è¢« `nodemon` ç›‘å¬ï¼ŒæœåŠ¡è‡ªåŠ¨é‡å¯ï¼Œéå¸¸æ–¹ä¾¿ã€‚
<p style="display: inline-block;padding: 20px; border-radius: 4px;background-color: #a51e1e; color: white">è¿™è¾¹ä¹Ÿæœ‰ä¸€ä¸ªå°ç»†èŠ‚éœ€è¦æ³¨æ„ï¼Œnodemon --watch æœ€å¥½æŒ‡å®šç›‘å¬æœåŠ¡ç«¯æ–‡ä»¶å¤¹ï¼Œå› ä¸ºæ¯•ç«Ÿåªæœ‰æœåŠ¡ç«¯çš„ä»£ç ä¿®æ”¹æ‰éœ€è¦é‡å¯æœåŠ¡ï¼Œä¸ç„¶é»˜è®¤ç›‘å¬æ•´ä¸ªæ ¹ç›®å½•ï¼Œå†™ä¸ªæ ·å¼éƒ½èƒ½é‡å¯æœåŠ¡ï¼Œç®€ç›´è¦æŠŠäººçƒ¦æ­»ã€‚</p>

## æ€»ç»“
é¡¹ç›®æ•´ä½“æ­å®Œåå†å›å¤´çœ‹ï¼Œè¿˜æ˜¯æœ‰ä¸å°‘éœ€è¦æ³¨æ„å’Œå€¼å¾—å­¦ä¹ çš„åœ°æ–¹ã€‚è™½ç„¶è¸©äº†ä¸å°‘å‘ï¼Œä½†ä¹Ÿå¯¹å…¶ä¸­çš„ä¸€äº›åŸç†æœ‰äº†æ›´æ·±å…¥çš„äº†è§£ã€‚

å¾—ç›Šäºå‰ç«¯è„šæ‰‹æ¶å·¥å…·ï¼Œè®©æˆ‘ä»¬èƒ½åœ¨å¤§éƒ¨åˆ†é¡¹ç›®ä¸­ä¸€é”®ç”Ÿæˆé¡¹ç›®çš„åŸºç¡€é…ç½®ï¼Œå…å»äº†å¾ˆå¤šå·¥ç¨‹æ­å»ºçš„çƒ¦æ¼ï¼Œä½†è¿™ç§æ–¹ä¾¿åœ¨é€ ç¦äº†å¼€å‘è€…çš„åŒæ—¶ï¼Œå´ä¹Ÿå¼±åŒ–äº†å‰ç«¯å·¥ç¨‹å¸ˆçš„å·¥ç¨‹æ¶æ„èƒ½åŠ›ã€‚ç°å®ä¸­æ€»æœ‰ä¸€äº›è„šæ‰‹æ¶å·¥å…·æ²¡åŠæ³•çš„è§¦åŠåˆ°çš„ä¸šåŠ¡åœºæ™¯ï¼Œè¿™æ—¶å°±éœ€è¦å¼€å‘è€…ä¸»åŠ¨å¯»æ±‚è§£å†³æ–¹æ¡ˆï¼Œç”šè‡³è‡ªå·±åŠ¨æ‰‹æ„å»ºå·¥ç¨‹ï¼Œä»¥è·å¾—å¼€å‘çš„æœ€ä½³çµæ´»æ€§ã€‚

å®Œæ•´é¡¹ç›®åœ°å€å¯ä»¥æŸ¥çœ‹æˆ‘çš„ <font style="font-size: 20px">[GitHub](https://github.com/CRONWMMM/multi_page_app_template) </font>ï¼Œå–œæ¬¢çš„è¯ç»™ä¸ª Starâ­ï¸ ï¼Œå¤šè°¢å¤šè°¢~ğŸ˜ƒğŸ˜ƒ
